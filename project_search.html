<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  <!-- settings-->
    <link rel="stylesheet" href="style.css">
    <title>Project Search</title>
</head>
<body style="background-color: #545454;">
    <br>
    <input class="search-bar" autocomplete="off" autofocus placeholder="search project names" type="text">
    <ul id="search-results"></ul>
    
    <div  id="projects-container"></div>
    <script src="project.js"></script>
    <script>
        let input = document.querySelector('input');
        let PROJECTS = get_all_projects();
        let container = document.getElementById('search-results');
        let search_results = [];
        input.addEventListener('keyup', function(event) {
            let html = '';
            if (input.value) {
                for (proj of PROJECTS) {
                    let title = proj.title.toLowerCase();
                    if (title.includes(input.value.toLowerCase()) && !search_results.includes(proj.title)) {
                        let result = document.createElement('ul');
                        result.textContent = proj.title;
                        search_results += proj.title;
                        container.appendChild(result);
                    }
                }
            }
            else {
                while (container.hasChildNodes()) {
                    container.removeChild(container.firstChild);
                }
                search_results = [];
            }
        })
    </script>

    <br>
    <a href="index.html" class="home-button">HOME</a>
</body>
</html>